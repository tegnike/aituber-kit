---
description: テストを実行し、失敗時は自動修正を試みる
allowed-tools: Task, Read, Edit, Grep, Glob, Bash, TodoWrite
---

# テスト実行ワークフロー

以下の手順でテストを実行し、失敗があれば修正してください。

## 実行手順

1. **test-runner サブエージェントを起動**してテストを実行
   - `Task` ツールで `subagent_type: "test-runner"` を指定
   - プロンプト: 「Jestテストを実行し、結果をレポートに出力してください。$ARGUMENTS」

2. **サブエージェントからの報告を確認**
   - 全テスト成功: 完了を報告して終了
   - 失敗あり: 次のステップへ

3. **失敗したテストを修正**
   - レポートを読み、該当ファイルを確認
   - 原因を分析し、コードを修正
   - 修正内容を簡潔に説明

4. **再度 test-runner を起動**して修正を確認
   - 前回のエージェントを `resume` で再開するか、新規起動
   - 失敗が残っていれば手順3に戻る

5. **終了条件**
   - 全テスト成功
   - または、手動修正が必要と判断した場合（ユーザーに報告）

## 注意事項

- 修正は最小限に留め、テストの意図を変えないこと
- 3回修正しても解決しない場合は、マスターに相談すること
- 各修正後にどこを変更したか報告すること

## 引数

`$ARGUMENTS` - 追加の指示やテスト対象の指定（オプション）
